<!-- === begin markdown block =====================================================

      generated by markdown 1.0.0 on Ruby 1.9.3 (2012-04-20) [x86_64-linux]
                on 2012-11-11 15:33:21 +1100 with Markdown engine kramdown (0.14.0)
                  using options { !to be done! }
  -->
<h1 id="toy-robot">toy-robot</h1>
<p>toy-robot is a simulator of a toy robot that moves on a tabletop.</p>

<h2 id="usage">usage</h2>
<p>toy-robot reads instructions from STDIN, executing them one at a time.  (On a Linux or OSX system, type C-d to generate an EOF character).</p>

<h3 id="valid-commands">valid commands</h3>

<h4 id="place-xyfacing">PLACE X,Y,FACING</h4>

<p>Put the toy robot on the table in position X,Y and facing NORTH, SOUTH, EAST or WEST.</p>

<h4 id="move">MOVE</h4>

<p>Moves the toy robot one unit forward in the direction it is currently facing.</p>

<h4 id="left">LEFT</h4>

<p>Rotates the robot 90 degrees to the left (i.e. counter-clockwise) without changing the position of the robot.</p>

<h4 id="right">RIGHT</h4>

<p>Rotates the robot 90 degrees to the right (i.e. clockwise) without changing the position of the robot.</p>

<h4 id="report">REPORT</h4>

<p>Announces the X,Y and F of the robot.</p>

<h3 id="installing">installing</h3>

<p>Ensure you have <a href="http://git-scm.com/downloads">Git</a> and <a href="https://rvm.io/rvm/install/">RVM</a> installed, then:</p>

<pre><code>git://github.com/duncan-bayne/toy-robot.git
cd toy-robot
gem install bundler
bundle install
</code></pre>

<p>RVM will prompt you if you need to install the version of Ruby upon which toy-robot relies (1.9.3).</p>

<h3 id="running">running</h3>

<p>Interactively:</p>

<pre><code>$ toy_robot/toy_robot.rb 
PLACE 1,1,SOUTH
MOVE
LEFT
MOVE
MOVE
REPORT
3,0,EAST
</code></pre>

<p>From a file <code>instructions.txt</code> containing instructions:</p>

<pre><code>$ cat instructions.txt | toy_robot/toy_robot.rb 
0,0,NORTH
</code></pre>

<p>With invalid commands:</p>

<pre><code>$ toy_robot/toy_robot.rb 
PLACE 0,0,WOMBLES
Ignoring PLACE with invalid arguments.
MOVE
Ignoring MOVE until robot is PLACEd.
PLACE 1,1,NORTH
</code></pre>

<h2 id="development-notes">development notes</h2>

<p>I developed toy-robot test first; you can see the <a href="https://github.com/duncan-bayne/toy-robot/commits/master">commit log</a> for how I proceeded.</p>

<p>Specs, documentation and quality checks are automated through rake.  E.g. to display a list of all tasks:</p>

<pre><code>$ rake -T
rake default        # Runs all specs and quality tests, then generates documentation
rake documentation  # Generates HTML documentation from Markdown files
rake quality        # Check for design issues in: **/*.rb
rake specs          # Run RSpec code examples
</code></pre>

<p>To run everything:</p>

<pre><code>$ rake
/home/duncan/.rvm/rubies/ruby-1.9.3-p194/bin/ruby -S rspec spec/simulator_integration_spec.rb spec/table_
spec.rb spec/robot_spec.rb spec/simulator_spec.rb --backtrace                                           
...................................................
 
Finished in 0.01306 seconds
51 examples, 0 failures
markdown 1.0.0 on Ruby 1.9.3 (2012-04-20) [x86_64-linux]
searching folder '.'...
  skipping file   'Gemfile.lock'...
  skipping file   'README.html'...
  skipping folder 'spec'...
  skipping folder 'toy_robot'...
  skipping file   '.rvmrc'...
  skipping folder 'doc'...
  skipping file   'Gemfile'...
  skipping file   'Rakefile'...
  skipping file   'COPYING'...
  skipping file   'roodi.yml'...
  skipping folder '.git'...
*** README.md (.) =&gt; README.html (.)...
  Removing %-comments (0 lines, 0 begin/end-blocks, 0 end-blocks)...
  Converting Markdown-text (2338 bytes) to HTML using library kramdown (0.14.0)
  using options:
{}
Done.
</code></pre>

<p>If I were to add any more commands, or increase the complexity of the commands, Iâ€™d consider refactoring the Simulator class to use the <a href="http://en.wikipedia.org/wiki/Command_pattern">Command Pattern</a>.  That would allow easy unit testing of the individual commands.</p>

<h2 id="licence">licence</h2>
<p>toy-robot is licensed under the GNU Lesser General Public License.</p>

<h3 id="why-the-lgpl">why the LGPL?</h3>
<p>The GPL is specifically designed to reduce the usefulness of GPL-licensed code to closed-source, proprietary software. The BSD license (and similar) do not mandate code-sharing if the BSD-licensed code is modified by licensees. The LGPL achieves the best of both worlds: an LGPL-licensed library can be incorporated within closed-source proprietary code, and yet those using an LGPL-licensed library are required to release source code to that library if they change it.</p>
<!-- === end markdown block ===================================================== -->
